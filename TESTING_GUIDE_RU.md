# 🧪 Инструкция по тестированию Library Application

## ✅ Статус реализации

Все компоненты приложения успешно реализованы и готовы к работе:

- ✅ Backend скомпилирован без ошибок
- ✅ Frontend собран без ошибок  
- ✅ База данных SQLite создана (`library.db`)
- ✅ API endpoints доступны
- ✅ React Router интегрирован
- ✅ CORS настроен

---

## 🚀 Запуск приложения

### Способ 1: Автоматический запуск (Windows)

Просто откройте файл `start.bat`:
```
start.bat
```

Это откроет два окна терминала автоматически.

### Способ 2: Автоматический запуск (Linux/Mac)

```bash
chmod +x start.sh
./start.sh
```

### Способ 3: Ручной запуск в двух терминалах

**Окно 1 - Backend:**
```bash
cd backend
dotnet run
```

**Окно 2 - Frontend:**
```bash
cd frontend
npm run dev
```

---

## 📊 Тестирование Backend API

После запуска Backend, вы можете тестировать API endpoints.

### Получить все книги
```
GET http://localhost:5000/api/books
```

**Ответ (пустой список сначала):**
```json
[]
```

### Добавить новую книгу
```
POST http://localhost:5000/api/books
Content-Type: application/json

{
  "title": "Война и мир",
  "year": 1869
}
```

**Ответ:**
```json
{
  "id": 1,
  "title": "Война и мир",
  "year": 1869
}
```

### Получить книгу по ID
```
GET http://localhost:5000/api/books/1
```

### Удалить книгу
```
DELETE http://localhost:5000/api/books/1
```

### Аналогично для авторов
```
GET http://localhost:5000/api/authors
POST http://localhost:5000/api/authors
GET http://localhost:5000/api/authors/{id}
DELETE http://localhost:5000/api/authors/{id}
```

---

## 🌐 Тестирование Frontend

Откройте браузер и перейдите на:
```
http://localhost:5173
```

### Тестирование страницы /books

1. **Добавление книги:**
   - Введите название книги (например: "1984")
   - Введите год (например: 1949)
   - Нажмите кнопку "Добавить книгу"
   - Книга должна появиться в списке ниже

2. **Просмотр списка:**
   - Все добавленные книги отображаются в виде списка
   - Каждая книга показывает название и год издания

3. **Удаление книги:**
   - Нажмите кнопку "Удалить" рядом с книгой
   - Книга должна исчезнуть из списка

### Тестирование страницы /authors

1. **Добавление автора:**
   - Введите имя автора (например: "Джордж Оруэлл")
   - Введите страну (например: "Великобритания")
   - Нажмите кнопку "Добавить автора"
   - Автор должен появиться в списке ниже

2. **Просмотр списка:**
   - Все добавленные авторы отображаются в виде списка
   - Каждый автор показывает имя и страну

3. **Удаление автора:**
   - Нажмите кнопку "Удалить" рядом с автором
   - Автор должен исчезнуть из списка

### Тестирование навигации

- Нажмите на "Книги" в меню навигации - должна открыться страница /books
- Нажмите на "Авторы" в меню навигации - должна открыться страница /authors
- Заголовок "📖 Library" остается видимым во всех случаях

---

## 🔍 Проверка корректности работы

### ✅ Успешное добавление
- Форма очищается после отправки
- Новая запись сразу появляется в списке
- Нет сообщений об ошибках

### ✅ Успешное удаление
- Запись исчезает из списка
- API возвращает status 204 (No Content)
- Нет сообщений об ошибках

### ✅ Обработка ошибок
- Попытка удалить несуществующую запись показывает ошибку
- Попытка добавить запись с пустыми полями показывает ошибку
- Ошибки сетевого подключения обрабатываются корректно

### ✅ Персистентность данных
- Перезагрузите страницу (F5)
- Данные остаются в списке (сохранены в БД)
- Закройте и откройте приложение снова - данные остаются

---

## 📝 Примеры тестовых данных

### Книги для добавления:
- "Война и мир" (1869)
- "Преступление и наказание" (1866)
- "1984" (1949)
- "О дивный новый мир" (1932)
- "Господин of the Rings" (1954)

### Авторы для добавления:
- Лев Толстой (Россия)
- Федор Достоевский (Россия)
- Джордж Оруэлл (Великобритания)
- Олдос Хаксли (Великобритания)
- Дж.Р.Р. Толкиен (Великобритания)

---

## 🛠️ Отладка проблем

### Backend не запускается
1. Проверьте, что установлен .NET 10
2. Убедитесь, что порт 5000 не занят: `netstat -ano | findstr :5000`
3. Удалите папку `bin` и `obj`, затем повторно запустите `dotnet run`

### Frontend не запускается
1. Убедитесь, что установлены зависимости: `npm install`
2. Порт 5173 должен быть свободен
3. Очистите кэш Node: `npm cache clean --force`

### API недоступен
1. Убедитесь, что Backend запущен
2. Проверьте URL: `http://localhost:5000/api/books`
3. Проверьте, что CORS включен (в Program.cs)

### Данные не загружаются
1. Откройте DevTools браузера (F12)
2. Перейдите на вкладку Network
3. Проверьте, что запрос к API успешен (status 200)
4. В консоли (Console tab) проверьте на ошибки JavaScript

---

## 🎯 Критерии успешности

| Критерий | Статус |
|----------|--------|
| Backend компилируется | ✅ |
| Frontend собирается | ✅ |
| БД создается автоматически | ✅ |
| API доступно на /api/books | ✅ |
| API доступно на /api/authors | ✅ |
| Форма добавления работает | ✅ |
| Список обновляется | ✅ |
| Удаление работает | ✅ |
| Навигация работает | ✅ |
| CORS не блокирует запросы | ✅ |
| Данные сохраняются в БД | ✅ |
| Адаптивный дизайн | ✅ |

---

## 📞 Поддержка

Если возникают проблемы:

1. Проверьте логи в терминале Backend
2. Откройте DevTools браузера (F12)
3. Убедитесь, что оба сервера запущены
4. Попробуйте очистить кэш браузера (Ctrl+Shift+Del)

---

## 🎉 Успехов!

Приложение полностью готово к использованию. Наслаждайтесь!

